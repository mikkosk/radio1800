import React from 'react';

const BookCard: React.FC<{ failed: boolean, loaded: boolean, open: React.Dispatch<React.SetStateAction<boolean>>, togglePlaying: () => void }> = ({failed, loaded, open, togglePlaying}) => {
    return(
        <svg className="book-card" viewBox="0 0 378 312" fill="none" xmlns="http://www.w3.org/2000/svg">
            <title>Title for the radio.</title>
            <g id="card">
                <g id="card-back">
                    <path d="M4 105.14C4 83.2609 18.2251 63.9228 39.1118 57.408L65.3149 49.235C77.2861 45.501 87.4171 37.405 93.6995 26.5522L94.6265 24.9508C103.566 9.50847 120.056 0 137.899 0H185.777H233.092C250.544 0 266.732 9.09909 275.805 24.0071L277.495 26.7854C284.009 37.4889 294.304 45.3568 306.342 48.8314L337.866 57.9302C359.266 64.1071 374 83.6951 374 105.969V199.666C374 221.156 360.267 240.243 339.891 247.073L303.773 259.18C293.302 262.689 284.288 269.566 278.137 278.738L276.05 281.849C266.766 295.693 251.193 304 234.524 304H185.777H136.481C119.405 304 103.511 295.286 94.3276 280.891L93.0725 278.923C87.1443 269.631 78.3115 262.557 67.9478 258.803L36.9717 247.583C17.1817 240.415 4 221.62 4 200.572V105.14Z"/>
                </g>
                <g id="card-front">
                    <path d="M13 112.751C13 90.6535 27.5059 71.1764 48.6778 64.8466L71.1988 58.1134C82.82 54.639 92.7315 46.9624 99.002 36.5795C107.84 21.9445 123.691 13 140.788 13H186.425H230.897C248.01 13 264.031 21.9044 273.204 36.3521C279.847 46.8149 290.206 54.544 302.151 57.8486L329.332 65.3687C350.998 71.3628 366 91.0788 366 113.558V192.034C366 213.756 351.975 232.993 331.294 239.637L299.617 249.815C289.22 253.155 280.203 259.807 273.943 268.754L273.306 269.664C263.95 283.036 248.658 291 232.338 291H186.425H139.826C123.22 291 107.714 282.694 98.5132 268.869C92.5085 259.847 83.7154 253.039 73.4771 249.484L46.6006 240.153C26.4854 233.169 13 214.212 13 192.919V112.751Z" fill="#F1F8C9"/>
                    <svg y="-8%" className="cover-top-text" viewBox="0 0 214 37">   
                        <text className="big-title" textAnchor="middle">
                            <textPath xlinkHref="#top-curve" startOffset="51%">
                                Radio 1800
                            </textPath>
                        </text>
                        <defs>
                            <path id="top-curve" d="M1 36.5V36.5C61.3608 -9.88567 144.887 -11.5797 207.079 32.3205L213 36.5"/>
                        </defs>
                    </svg>
                    <svg y="20%" viewBox="0 0 214 36">
                        <text className={loaded  ? "small-title" : failed ? "small-title error" : "small-title"}  textAnchor="middle">
                            <textPath xlinkHref="#bottom-curve" startOffset="51%">
                                {loaded ? "Tarinoita keisariajan Suomesta" : failed ? "Ei yhteyttä - Kokeile päivättää sivu" : "Ladataan striimiä"}
                            </textPath>
                        </text>
                        <defs>
                            <path id="bottom-curve" d="M1 0.999997L13.9636 8.82707C71.178 43.3716 142.822 43.3716 200.036 8.82707L213 0.999997"/>
                        </defs>
                    </svg>
                </g>
                {(loaded && !failed) &&
                    <g>
                        <title>Button for opening the radio.</title>
                        <path onClick={() => {open(true); togglePlaying();}} id="open-button" d="M219.342 146.497C224.153 148.589 224.153 155.411 219.342 157.503L176.642 176.065C172.679 177.787 168.25 174.883 168.25 170.562V133.438C168.25 129.117 172.679 126.213 176.642 127.935L219.342 146.497Z"/>
                    </g>
                }
                {(!loaded || failed) &&
                    <g id="card-lock">
                        <path id="Polygon 1" d="M183.237 117.07C186.963 114.054 192.216 113.811 196.205 116.47C198.634 118.089 200.316 120.611 200.878 123.476L205 144.5L210.608 179.773C211.67 186.453 206.508 192.5 199.744 192.5H178.39C171.458 192.5 166.254 186.165 167.6 179.364L174.5 144.5L178.254 124.477C178.736 121.91 180.115 119.598 182.145 117.954L183.237 117.07Z" fill="#f1d061"/>
                        <path id="Polygon 2" d="M187.078 119.841C188.585 119.006 190.415 119.006 191.922 119.841L194.47 121.251C195.757 121.964 196.666 123.207 196.953 124.65L199.812 139.025C200.427 142.117 198.061 145 194.908 145H189.5H184.462C181.352 145 178.996 142.192 179.538 139.13L182.085 124.724C182.347 123.238 183.267 121.95 184.587 121.22L187.078 119.841Z" fill="#F1F8C9"/>
                        <path id="Polygon 3" d="M186.699 161.043C188.088 160.112 189.91 160.087 191.316 160.992C192.948 162.044 193.643 164.079 192.997 165.909L192.333 167.793C191.565 169.968 191.967 172.384 193.396 174.193L193.993 174.949C196.53 178.159 195.356 182.9 191.615 184.556C189.954 185.291 188.049 185.266 186.406 184.492C182.859 182.822 181.654 178.351 183.902 175.139L184.588 174.161C185.859 172.344 186.235 170.048 185.61 167.921L184.978 165.772C184.455 163.995 185.161 162.075 186.699 161.043Z" fill="#F1F8C9"/>
                    </g>
                }
            </g>
        </svg>

    );
};

export default BookCard;